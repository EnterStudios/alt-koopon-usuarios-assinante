!function(o){"use strict";o.module("alt.koopon.usuarios-assinante",["ngResource"]).constant("_",_).provider("AltKooponUsuariosDoAssinanteUrlBase",function(){this.URL_BASE="/koopon-rest-api/",this.$get=function(){return this.URL_BASE}}).factory("AltKooponUsuariosDoAssinanteResource",["$resource","AltKooponUsuariosDoAssinanteUrlBase",function(o,r){var n=r+"usuarios/:id/:acao",a={id:"@id",acao:"@acao"},i={buscar:{method:"GET",isArray:!0},convidar:{method:"POST",params:{acao:"enviar"}},desvincular:{method:"DELETE",params:{acao:"desvincular"}}};return o(n,a,i)}]).factory("AltKooponUsuariosDoAssinanteService",["$q","AltKooponUsuariosDoAssinanteResource","_",function(r,n,a){var i=function(){};return i.prototype.buscar=function(){return n.buscar().$promise.then(function(o){var r=a.uniq(o,"idUsuario"),n=a.map(r,function(o){return o.idUsuario});return a.forEach(n,function(r){var n=[],i=void 0;a.forEach(o,function(o){o.idUsuario===r&&(i=o.idUsuario,n.push(o.emailUsuario))}),a.filter(o,{idUsuario:i}).forEach(function(o){o.arrayEmails=n})}),a.uniqBy(o,"idUsuario")})},i.prototype.convidar=function(a){return o.isObject(a)?n.convidar(a).$promise:r.reject(new TypeError("Informação deve ser passada para convidar um usuário."))},i.prototype.desvincular=function(a){return o.isUndefined(a)?r.reject(new TypeError("Id do usuário deve ser informado para ser desvinculado.")):n.desvincular({id:a}).$promise},new i}])}(window.angular);